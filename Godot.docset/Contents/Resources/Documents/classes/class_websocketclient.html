<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<meta content="WebSocketClient" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="classes/class_websocketclient.html" property="og:url"/>
<meta content="Godot Engine documentation" property="og:site_name"/>
<meta content="Inherits: WebSocketMultiplayerPeer&lt; NetworkedMultiplayerPeer&lt; PacketPeer&lt; Reference&lt; Object A WebSocket client implementation. Description: This class implements a WebSocket client compatible with ..." property="og:description"/>
<meta content="A WebSocket client implementation. This class implements a WebSocket client compatible with any RFC 6455-compliant WebSocket server. This client can be optionally used as a network peer for the MultiplayerAPI. After s..." name="description"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"><title>(DEV) WebSocketClient — Godot Engine (3.4) documentation in English</title>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/tabs.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/js/custom.js"></script>
<script src="../_static/js/theme.js"></script><meta content="#3d8fcc" name="theme-color"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_websocketclient.html" hreflang="en" rel="alternate"/>
<link href="https://docs.godotengine.org/de/stable/classes/class_websocketclient.html" hreflang="de" rel="alternate"/>
<link href="https://docs.godotengine.org/es/stable/classes/class_websocketclient.html" hreflang="es" rel="alternate"/>
<link href="https://docs.godotengine.org/fr/stable/classes/class_websocketclient.html" hreflang="fr" rel="alternate"/>
<link href="https://docs.godotengine.org/fi/stable/classes/class_websocketclient.html" hreflang="fi" rel="alternate"/>
<link href="https://docs.godotengine.org/it/stable/classes/class_websocketclient.html" hreflang="it" rel="alternate"/>
<link href="https://docs.godotengine.org/ja/stable/classes/class_websocketclient.html" hreflang="ja" rel="alternate"/>
<link href="https://docs.godotengine.org/ko/stable/classes/class_websocketclient.html" hreflang="ko" rel="alternate"/>
<link href="https://docs.godotengine.org/pl/stable/classes/class_websocketclient.html" hreflang="pl" rel="alternate"/>
<link href="https://docs.godotengine.org/pt_BR/stable/classes/class_websocketclient.html" hreflang="pt-br" rel="alternate"/>
<link href="https://docs.godotengine.org/ru/stable/classes/class_websocketclient.html" hreflang="ru" rel="alternate"/>
<link href="https://docs.godotengine.org/uk/stable/classes/class_websocketclient.html" hreflang="uk" rel="alternate"/>
<link href="https://docs.godotengine.org/zh_CN/stable/classes/class_websocketclient.html" hreflang="zh-cn" rel="alternate"/>
<link href="https://docs.godotengine.org/zh_TW/stable/classes/class_websocketclient.html" hreflang="zh-tw" rel="alternate"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_websocketclient.html" hreflang="x-default" rel="alternate"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_websocketclient.html" rel="canonical"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="class_websocketmultiplayerpeer.html" rel="next" title="WebSocketMultiplayerPeer"/>
<link href="class_webrtcpeerconnectiongdnative.html" rel="prev" title="WebRTCPeerConnectionGDNative"/>
</meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">

<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">Godot Engine</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a class="icon icon-home" href="../index.html"></a> »</li>
<li><a href="index.html">Godot API</a> »</li>
<li>WebSocketClient</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<section id="websocketclient">
<span id="class-websocketclient"></span><h1><a class="dashAnchor" name="//apple_ref/cpp/Class/WebSocketClient¶"></a>WebSocketClient<a class="headerlink" href="#websocketclient" title="Permalink to this headline">¶</a></h1>
<p><strong>Inherits:</strong> <a class="reference internal" href="class_websocketmultiplayerpeer.html#class-websocketmultiplayerpeer"><span class="std std-ref">WebSocketMultiplayerPeer</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_networkedmultiplayerpeer.html#class-networkedmultiplayerpeer"><span class="std std-ref">NetworkedMultiplayerPeer</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_packetpeer.html#class-packetpeer"><span class="std std-ref">PacketPeer</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_reference.html#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p>
<p>A WebSocket client implementation.</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This class implements a WebSocket client compatible with any RFC 6455-compliant WebSocket server.</p>
<p>This client can be optionally used as a network peer for the <a class="reference internal" href="class_multiplayerapi.html#class-multiplayerapi"><span class="std std-ref">MultiplayerAPI</span></a>.</p>
<p>After starting the client (<a class="reference internal" href="#class-websocketclient-method-connect-to-url"><span class="std std-ref">connect_to_url</span></a>), you will need to <a class="reference internal" href="class_networkedmultiplayerpeer.html#class-networkedmultiplayerpeer-method-poll"><span class="std std-ref">NetworkedMultiplayerPeer.poll</span></a> it at regular intervals (e.g. inside <a class="reference internal" href="class_node.html#class-node-method-process"><span class="std std-ref">Node._process</span></a>).</p>
<p>You will receive appropriate signals when connecting, disconnecting, or when new data is available.</p>
</section>
<section id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="class_x509certificate.html#class-x509certificate"><span class="std std-ref">X509Certificate</span></a></p></td>
<td><p><a class="reference internal" href="#class-websocketclient-property-trusted-ssl-certificate"><span class="std std-ref">trusted_ssl_certificate</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td>
<td><p><a class="reference internal" href="#class-websocketclient-property-verify-ssl"><span class="std std-ref">verify_ssl</span></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%"/>
<col style="width: 89%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td>
<td><p><a class="reference internal" href="#class-websocketclient-method-connect-to-url"><span class="std std-ref">connect_to_url</span></a> <strong>(</strong> <a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> url, <a class="reference internal" href="class_poolstringarray.html#class-poolstringarray"><span class="std std-ref">PoolStringArray</span></a> protocols=PoolStringArray(  ), <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> gd_mp_api=false, <a class="reference internal" href="class_poolstringarray.html#class-poolstringarray"><span class="std std-ref">PoolStringArray</span></a> custom_headers=PoolStringArray(  ) <strong>)</strong></p></td>
</tr>
<tr class="row-even"><td><p>void</p></td>
<td><p><a class="reference internal" href="#class-websocketclient-method-disconnect-from-host"><span class="std std-ref">disconnect_from_host</span></a> <strong>(</strong> <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> code=1000, <a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> reason="" <strong>)</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td>
<td><p><a class="reference internal" href="#class-websocketclient-method-get-connected-host"><span class="std std-ref">get_connected_host</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td>
<td><p><a class="reference internal" href="#class-websocketclient-method-get-connected-port"><span class="std std-ref">get_connected_port</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td>
</tr>
</tbody>
</table>
</section>
<section id="signals">
<h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<ul class="simple" id="class-websocketclient-signal-connection-closed">
<li><p><strong><a class="dashAnchor" name="//apple_ref/cpp/Callback/connection_closed"></a>connection_closed</strong> <strong>(</strong> <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> was_clean_close <strong>)</strong></p></li>
</ul>
<p>Emitted when the connection to the server is closed. <code class="docutils literal notranslate"><span class="pre">was_clean_close</span></code> will be <code class="docutils literal notranslate"><span class="pre">true</span></code> if the connection was shutdown cleanly.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-signal-connection-error">
<li><p><strong><a class="dashAnchor" name="//apple_ref/cpp/Callback/connection_error"></a>connection_error</strong> <strong>(</strong> <strong>)</strong></p></li>
</ul>
<p>Emitted when the connection to the server fails.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-signal-connection-established">
<li><p><strong><a class="dashAnchor" name="//apple_ref/cpp/Callback/connection_established"></a>connection_established</strong> <strong>(</strong> <a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> protocol <strong>)</strong></p></li>
</ul>
<p>Emitted when a connection with the server is established, <code class="docutils literal notranslate"><span class="pre">protocol</span></code> will contain the sub-protocol agreed with the server.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-signal-data-received">
<li><p><strong><a class="dashAnchor" name="//apple_ref/cpp/Callback/data_received"></a>data_received</strong> <strong>(</strong> <strong>)</strong></p></li>
</ul>
<p>Emitted when a WebSocket message is received.</p>
<p><strong>Note:</strong> This signal is <em>not</em> emitted when used as high-level multiplayer peer.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-signal-server-close-request">
<li><p><strong><a class="dashAnchor" name="//apple_ref/cpp/Callback/server_close_request"></a>server_close_request</strong> <strong>(</strong> <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> code, <a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> reason <strong>)</strong></p></li>
</ul>
<p>Emitted when the server requests a clean close. You should keep polling until you get a <a class="reference internal" href="#class-websocketclient-signal-connection-closed"><span class="std std-ref">connection_closed</span></a> signal to achieve the clean close. See <a class="reference internal" href="class_websocketpeer.html#class-websocketpeer-method-close"><span class="std std-ref">WebSocketPeer.close</span></a> for more details.</p>
</section>
<section id="property-descriptions">
<h2>Property Descriptions<a class="headerlink" href="#property-descriptions" title="Permalink to this headline">¶</a></h2>
<ul class="simple" id="class-websocketclient-property-trusted-ssl-certificate">
<li><p><a class="reference internal" href="class_x509certificate.html#class-x509certificate"><span class="std std-ref">X509Certificate</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Property/trusted_ssl_certificate"></a>trusted_ssl_certificate</strong></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%"/>
<col style="width: 78%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Setter</em></p></td>
<td><p>set_trusted_ssl_certificate(value)</p></td>
</tr>
<tr class="row-even"><td><p><em>Getter</em></p></td>
<td><p>get_trusted_ssl_certificate()</p></td>
</tr>
</tbody>
</table>
<p>If specified, this <a class="reference internal" href="class_x509certificate.html#class-x509certificate"><span class="std std-ref">X509Certificate</span></a> will be the only one accepted when connecting to an SSL host. Any other certificate provided by the server will be regarded as invalid.</p>
<p><strong>Note:</strong> Specifying a custom <code class="docutils literal notranslate"><span class="pre">trusted_ssl_certificate</span></code> is not supported in HTML5 exports due to browsers restrictions.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-property-verify-ssl">
<li><p><a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Property/verify_ssl"></a>verify_ssl</strong></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%"/>
<col style="width: 76%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Setter</em></p></td>
<td><p>set_verify_ssl_enabled(value)</p></td>
</tr>
<tr class="row-even"><td><p><em>Getter</em></p></td>
<td><p>is_verify_ssl_enabled()</p></td>
</tr>
</tbody>
</table>
<p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, SSL certificate verification is enabled.</p>
<p><strong>Note:</strong> You must specify the certificates to be used in the Project Settings for it to work when exported.</p>
</section>
<section id="method-descriptions">
<h2>Method Descriptions<a class="headerlink" href="#method-descriptions" title="Permalink to this headline">¶</a></h2>
<ul class="simple" id="class-websocketclient-method-connect-to-url">
<li><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/connect_to_url"></a>connect_to_url</strong> <strong>(</strong> <a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> url, <a class="reference internal" href="class_poolstringarray.html#class-poolstringarray"><span class="std std-ref">PoolStringArray</span></a> protocols=PoolStringArray(  ), <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> gd_mp_api=false, <a class="reference internal" href="class_poolstringarray.html#class-poolstringarray"><span class="std std-ref">PoolStringArray</span></a> custom_headers=PoolStringArray(  ) <strong>)</strong></p></li>
</ul>
<p>Connects to the given URL requesting one of the given <code class="docutils literal notranslate"><span class="pre">protocols</span></code> as sub-protocol. If the list empty (default), no sub-protocol will be requested.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">true</span></code> is passed as <code class="docutils literal notranslate"><span class="pre">gd_mp_api</span></code>, the client will behave like a network peer for the <a class="reference internal" href="class_multiplayerapi.html#class-multiplayerapi"><span class="std std-ref">MultiplayerAPI</span></a>, connections to non-Godot servers will not work, and <a class="reference internal" href="#class-websocketclient-signal-data-received"><span class="std std-ref">data_received</span></a> will not be emitted.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">false</span></code> is passed instead (default), you must call <a class="reference internal" href="class_packetpeer.html#class-packetpeer"><span class="std std-ref">PacketPeer</span></a> functions (<code class="docutils literal notranslate"><span class="pre">put_packet</span></code>, <code class="docutils literal notranslate"><span class="pre">get_packet</span></code>, etc.) on the <a class="reference internal" href="class_websocketpeer.html#class-websocketpeer"><span class="std std-ref">WebSocketPeer</span></a> returned via <code class="docutils literal notranslate"><span class="pre">get_peer(1)</span></code> and not on this object directly (e.g. <code class="docutils literal notranslate"><span class="pre">get_peer(1).put_packet(data)</span></code>).</p>
<p>You can optionally pass a list of <code class="docutils literal notranslate"><span class="pre">custom_headers</span></code> to be added to the handshake HTTP request.</p>
<p><strong>Note:</strong> To avoid mixed content warnings or errors in HTML5, you may have to use a <code class="docutils literal notranslate"><span class="pre">url</span></code> that starts with <code class="docutils literal notranslate"><span class="pre">wss://</span></code> (secure) instead of <code class="docutils literal notranslate"><span class="pre">ws://</span></code>. When doing so, make sure to use the fully qualified domain name that matches the one defined in the server's SSL certificate. Do not connect directly via the IP address for <code class="docutils literal notranslate"><span class="pre">wss://</span></code> connections, as it won't match with the SSL certificate.</p>
<p><strong>Note:</strong> Specifying <code class="docutils literal notranslate"><span class="pre">custom_headers</span></code> is not supported in HTML5 exports due to browsers restrictions.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-method-disconnect-from-host">
<li><p>void <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/disconnect_from_host"></a>disconnect_from_host</strong> <strong>(</strong> <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> code=1000, <a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> reason="" <strong>)</strong></p></li>
</ul>
<p>Disconnects this client from the connected host. See <a class="reference internal" href="class_websocketpeer.html#class-websocketpeer-method-close"><span class="std std-ref">WebSocketPeer.close</span></a> for more information.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-method-get-connected-host">
<li><p><a class="reference internal" href="class_string.html#class-string"><span class="std std-ref">String</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/get_connected_host"></a>get_connected_host</strong> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></li>
</ul>
<p>Return the IP address of the currently connected host.</p>
<hr class="docutils"/>
<ul class="simple" id="class-websocketclient-method-get-connected-port">
<li><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/get_connected_port"></a>get_connected_port</strong> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></li>
</ul>
<p>Return the IP port of the currently connected host.</p>
</section>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="class_webrtcpeerconnectiongdnative.html" rel="prev" title="WebRTCPeerConnectionGDNative"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="class_websocketmultiplayerpeer.html" rel="next" title="WebSocketMultiplayerPeer">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright 2014-2022, Juan Linietsky, Ariel Manzur and the Godot community (CC-BY 3.0).</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</section>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>