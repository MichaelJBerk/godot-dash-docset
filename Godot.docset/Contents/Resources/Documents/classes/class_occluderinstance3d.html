<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<meta content="OccluderInstance3D" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="classes/class_occluderinstance3d.html" property="og:url"/>
<meta content="Godot Engine documentation" property="og:site_name"/>
<meta content="Inherits: Node3D&lt; Node&lt; Object Provides occlusion culling for 3D nodes, which improves performance in closed areas. Description: Occlusion culling can improve rendering performance in closed/semi-o..." property="og:description"/>
<meta content="Inherits: Node3D&lt; Node&lt; Object Provides occlusion culling for 3D nodes, which improves performance in closed areas. Description: Occlusion culling can improve rendering performance in closed/semi-o..." name="description"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>(DEV) OccluderInstance3D — Godot Engine (latest) documentation in English</title>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
<link href="../_static/tabs.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/algolia.css" rel="stylesheet" type="text/css"/>
<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css?10" rel="stylesheet" type="text/css"/>
<link href="../_static/css/dev.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/clipboard.min.js"></script>
<script src="../_static/copybutton.js"></script>
<script src="../_static/js/custom.js?7"></script>
<script src="../_static/js/theme.js"></script><meta content="#3d8fcc" name="theme-color"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_occluderinstance3d.html" hreflang="en" rel="alternate"/>
<link href="https://docs.godotengine.org/de/stable/classes/class_occluderinstance3d.html" hreflang="de" rel="alternate"/>
<link href="https://docs.godotengine.org/es/stable/classes/class_occluderinstance3d.html" hreflang="es" rel="alternate"/>
<link href="https://docs.godotengine.org/fr/stable/classes/class_occluderinstance3d.html" hreflang="fr" rel="alternate"/>
<link href="https://docs.godotengine.org/fi/stable/classes/class_occluderinstance3d.html" hreflang="fi" rel="alternate"/>
<link href="https://docs.godotengine.org/it/stable/classes/class_occluderinstance3d.html" hreflang="it" rel="alternate"/>
<link href="https://docs.godotengine.org/ja/stable/classes/class_occluderinstance3d.html" hreflang="ja" rel="alternate"/>
<link href="https://docs.godotengine.org/ko/stable/classes/class_occluderinstance3d.html" hreflang="ko" rel="alternate"/>
<link href="https://docs.godotengine.org/pl/stable/classes/class_occluderinstance3d.html" hreflang="pl" rel="alternate"/>
<link href="https://docs.godotengine.org/pt_BR/stable/classes/class_occluderinstance3d.html" hreflang="pt-br" rel="alternate"/>
<link href="https://docs.godotengine.org/ru/stable/classes/class_occluderinstance3d.html" hreflang="ru" rel="alternate"/>
<link href="https://docs.godotengine.org/uk/stable/classes/class_occluderinstance3d.html" hreflang="uk" rel="alternate"/>
<link href="https://docs.godotengine.org/zh_CN/stable/classes/class_occluderinstance3d.html" hreflang="zh-cn" rel="alternate"/>
<link href="https://docs.godotengine.org/zh_TW/stable/classes/class_occluderinstance3d.html" hreflang="zh-tw" rel="alternate"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_occluderinstance3d.html" hreflang="x-default" rel="alternate"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_occluderinstance3d.html" rel="canonical"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="class_omnilight3d.html" rel="next" title="OmniLight3D"/>
<link href="class_node3d.html" rel="prev" title="Node3D"/>
<meta content="latest" name="doc_version"/>
<meta content="True" name="doc_is_latest"/>
<meta content="classes/class_occluderinstance3d" name="doc_pagename"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">

<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">Godot Engine</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li>
<div style="font-size: 105%;font-weight: 600;">
		Godot Engine 4.3 documentation in English
	</div>
<ul class="wy-breadcrumbs">
<li><a class="icon icon-home" href="../index.html"></a></li>
<li class="breadcrumb-item"><a href="index.html">All classes</a></li>
<li class="breadcrumb-item active">OccluderInstance3D</li>
</ul>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="admonition-grid">
<div class="admonition attention latest-notice">
<p class="first admonition-title">Attention: Here be dragons</p>
<p>
        This is the <code class="docutils literal notranslate"><span class="pre">latest</span></code>
        (unstable) version of this documentation, which may document features
        not available in or compatible with released stable versions of Godot.
      </p>
<p class="last latest-notice-link">
        Checking the stable version of the documentation...
      </p>
</div>
</div>
<section id="occluderinstance3d">
<span id="class-occluderinstance3d"></span><h1><a class="dashAnchor" id="" name="//apple_ref/cpp/Class/OccluderInstance3D¶"></a>OccluderInstance3D<a class="headerlink" href="#occluderinstance3d" title="Permalink to this headline">¶</a></h1>
<p><strong>Inherits:</strong> <a class="reference internal" href="class_node3d.html#class-node3d"><span class="std std-ref">Node3D</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_node.html#class-node"><span class="std std-ref">Node</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p>
<p>Provides occlusion culling for 3D nodes, which improves performance in closed areas.</p>
<section class="classref-introduction-group" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Occlusion culling can improve rendering performance in closed/semi-open areas by hiding geometry that is occluded by other objects.</p>
<p>The occlusion culling system is mostly static. <strong>OccluderInstance3D</strong>s can be moved or hidden at run-time, but doing so will trigger a background recomputation that can take several frames. It is recommended to only move <strong>OccluderInstance3D</strong>s sporadically (e.g. for procedural generation purposes), rather than doing so every frame.</p>
<p>The occlusion culling system works by rendering the occluders on the CPU in parallel using <a class="reference external" href="https://www.embree.org/">Embree</a>, drawing the result to a low-resolution buffer then using this to cull 3D nodes individually. In the 3D editor, you can preview the occlusion culling buffer by choosing <strong>Perspective &gt; Debug Advanced... &gt; Occlusion Culling Buffer</strong> in the top-left corner of the 3D viewport. The occlusion culling buffer quality can be adjusted in the Project Settings.</p>
<p><strong>Baking:</strong> Select an <strong>OccluderInstance3D</strong> node, then use the <strong>Bake Occluders</strong> button at the top of the 3D editor. Only opaque materials will be taken into account; transparent materials (alpha-blended or alpha-tested) will be ignored by the occluder generation.</p>
<p><strong>Note:</strong> Occlusion culling is only effective if <a class="reference internal" href="class_projectsettings.html#class-projectsettings-property-rendering-occlusion-culling-use-occlusion-culling"><span class="std std-ref">ProjectSettings.rendering/occlusion_culling/use_occlusion_culling</span></a> is <code class="docutils literal notranslate"><span class="pre">true</span></code>. Enabling occlusion culling has a cost on the CPU. Only enable occlusion culling if you actually plan to use it. Large open scenes with few or no objects blocking the view will generally not benefit much from occlusion culling. Large open scenes generally benefit more from mesh LOD and visibility ranges (<a class="reference internal" href="class_geometryinstance3d.html#class-geometryinstance3d-property-visibility-range-begin"><span class="std std-ref">GeometryInstance3D.visibility_range_begin</span></a> and <a class="reference internal" href="class_geometryinstance3d.html#class-geometryinstance3d-property-visibility-range-end"><span class="std std-ref">GeometryInstance3D.visibility_range_end</span></a>) compared to occlusion culling.</p>
<p><strong>Note:</strong> Due to memory constraints, occlusion culling is not supported by default in Web export templates. It can be enabled by compiling custom Web export templates with <code class="docutils literal notranslate"><span class="pre">module_raycast_enabled=yes</span></code>.</p>
</section>
<section class="classref-introduction-group" id="tutorials">
<h2>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../tutorials/3d/occlusion_culling.html"><span class="doc">Occlusion culling</span></a></p></li>
</ul>
</section>
<section class="classref-reftable-group" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td>
<td><p><a class="reference internal" href="#class-occluderinstance3d-property-bake-mask"><span class="std std-ref">bake_mask</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4294967295</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td>
<td><p><a class="reference internal" href="#class-occluderinstance3d-property-bake-simplification-distance"><span class="std std-ref">bake_simplification_distance</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="class_occluder3d.html#class-occluder3d"><span class="std std-ref">Occluder3D</span></a></p></td>
<td><p><a class="reference internal" href="#class-occluderinstance3d-property-occluder"><span class="std std-ref">occluder</span></a></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section class="classref-reftable-group" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td>
<td><p><a class="reference internal" href="#class-occluderinstance3d-method-get-bake-mask-value"><span class="std std-ref">get_bake_mask_value</span></a>(layer_number: <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a>) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td>
</tr>
<tr class="row-even"><td><p><abbr title="No return value.">void</abbr></p></td>
<td><p><a class="reference internal" href="#class-occluderinstance3d-method-set-bake-mask-value"><span class="std std-ref">set_bake_mask_value</span></a>(layer_number: <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a>, value: <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a>)</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="classref-section-separator docutils"/>
<section class="classref-descriptions-group" id="property-descriptions">
<h2>Property Descriptions<a class="headerlink" href="#property-descriptions" title="Permalink to this headline">¶</a></h2>
<p class="classref-property" id="class-occluderinstance3d-property-bake-mask"><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>bake_mask</strong> = <code class="docutils literal notranslate"><span class="pre">4294967295</span></code></p>
<ul class="classref-property-setget simple">
<li><p><abbr title="No return value.">void</abbr> <strong><a class="dashAnchor" id="properties-set_bake_mask" name="//apple_ref/cpp/Property/set_bake_mask"></a>set_bake_mask</strong>(value: <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a>)</p></li>
<li><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong><a class="dashAnchor" id="properties-get_bake_mask" name="//apple_ref/cpp/Property/get_bake_mask"></a>get_bake_mask</strong>()</p></li>
</ul>
<p>The visual layers to account for when baking for occluders. Only <a class="reference internal" href="class_meshinstance3d.html#class-meshinstance3d"><span class="std std-ref">MeshInstance3D</span></a>s whose <a class="reference internal" href="class_visualinstance3d.html#class-visualinstance3d-property-layers"><span class="std std-ref">VisualInstance3D.layers</span></a> match with this <a class="reference internal" href="#class-occluderinstance3d-property-bake-mask"><span class="std std-ref">bake_mask</span></a> will be included in the generated occluder mesh. By default, all objects with <em>opaque</em> materials are taken into account for the occluder baking.</p>
<p>To improve performance and avoid artifacts, it is recommended to exclude dynamic objects, small objects and fixtures from the baking process by moving them to a separate visual layer and excluding this layer in <a class="reference internal" href="#class-occluderinstance3d-property-bake-mask"><span class="std std-ref">bake_mask</span></a>.</p>
<hr class="classref-item-separator docutils"/>
<p class="classref-property" id="class-occluderinstance3d-property-bake-simplification-distance"><a class="reference internal" href="class_float.html#class-float"><span class="std std-ref">float</span></a> <strong>bake_simplification_distance</strong> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
<ul class="classref-property-setget simple">
<li><p><abbr title="No return value.">void</abbr> <strong><a class="dashAnchor" id="properties-set_bake_simplification_distance" name="//apple_ref/cpp/Property/set_bake_simplification_distance"></a>set_bake_simplification_distance</strong>(value: <a class="reference internal" href="class_float.html#class-float"><span class="std std-ref">float</span></a>)</p></li>
<li><p><a class="reference internal" href="class_float.html#class-float"><span class="std std-ref">float</span></a> <strong><a class="dashAnchor" id="properties-get_bake_simplification_distance" name="//apple_ref/cpp/Property/get_bake_simplification_distance"></a>get_bake_simplification_distance</strong>()</p></li>
</ul>
<p>The simplification distance to use for simplifying the generated occluder polygon (in 3D units). Higher values result in a less detailed occluder mesh, which improves performance but reduces culling accuracy.</p>
<p>The occluder geometry is rendered on the CPU, so it is important to keep its geometry as simple as possible. Since the buffer is rendered at a low resolution, less detailed occluder meshes generally still work well. The default value is fairly aggressive, so you may have to decrease it if you run into false negatives (objects being occluded even though they are visible by the camera). A value of <code class="docutils literal notranslate"><span class="pre">0.01</span></code> will act conservatively, and will keep geometry <em>perceptually</em> unaffected in the occlusion culling buffer. Depending on the scene, a value of <code class="docutils literal notranslate"><span class="pre">0.01</span></code> may still simplify the mesh noticeably compared to disabling simplification entirely.</p>
<p>Setting this to <code class="docutils literal notranslate"><span class="pre">0.0</span></code> disables simplification entirely, but vertices in the exact same position will still be merged. The mesh will also be re-indexed to reduce both the number of vertices and indices.</p>
<p><strong>Note:</strong> This uses the <a class="reference external" href="https://meshoptimizer.org/">meshoptimizer</a> library under the hood, similar to LOD generation.</p>
<hr class="classref-item-separator docutils"/>
<p class="classref-property" id="class-occluderinstance3d-property-occluder"><a class="reference internal" href="class_occluder3d.html#class-occluder3d"><span class="std std-ref">Occluder3D</span></a> <strong>occluder</strong></p>
<ul class="classref-property-setget simple">
<li><p><abbr title="No return value.">void</abbr> <strong><a class="dashAnchor" id="properties-set_occluder" name="//apple_ref/cpp/Property/set_occluder"></a>set_occluder</strong>(value: <a class="reference internal" href="class_occluder3d.html#class-occluder3d"><span class="std std-ref">Occluder3D</span></a>)</p></li>
<li><p><a class="reference internal" href="class_occluder3d.html#class-occluder3d"><span class="std std-ref">Occluder3D</span></a> <strong><a class="dashAnchor" id="properties-get_occluder" name="//apple_ref/cpp/Property/get_occluder"></a>get_occluder</strong>()</p></li>
</ul>
<p>The occluder resource for this <strong>OccluderInstance3D</strong>. You can generate an occluder resource by selecting an <strong>OccluderInstance3D</strong> node then using the <strong>Bake Occluders</strong> button at the top of the editor.</p>
<p>You can also draw your own 2D occluder polygon by adding a new <a class="reference internal" href="class_polygonoccluder3d.html#class-polygonoccluder3d"><span class="std std-ref">PolygonOccluder3D</span></a> resource to the <a class="reference internal" href="#class-occluderinstance3d-property-occluder"><span class="std std-ref">occluder</span></a> property in the Inspector.</p>
<p>Alternatively, you can select a primitive occluder to use: <a class="reference internal" href="class_quadoccluder3d.html#class-quadoccluder3d"><span class="std std-ref">QuadOccluder3D</span></a>, <a class="reference internal" href="class_boxoccluder3d.html#class-boxoccluder3d"><span class="std std-ref">BoxOccluder3D</span></a> or <a class="reference internal" href="class_sphereoccluder3d.html#class-sphereoccluder3d"><span class="std std-ref">SphereOccluder3D</span></a>.</p>
</section>
<hr class="classref-section-separator docutils"/>
<section class="classref-descriptions-group" id="method-descriptions">
<h2>Method Descriptions<a class="headerlink" href="#method-descriptions" title="Permalink to this headline">¶</a></h2>
<p class="classref-method" id="class-occluderinstance3d-method-get-bake-mask-value"><a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> <strong>get_bake_mask_value</strong>(layer_number: <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a>) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p>
<p>Returns whether or not the specified layer of the <a class="reference internal" href="#class-occluderinstance3d-property-bake-mask"><span class="std std-ref">bake_mask</span></a> is enabled, given a <code class="docutils literal notranslate"><span class="pre">layer_number</span></code> between 1 and 32.</p>
<hr class="classref-item-separator docutils"/>
<p class="classref-method" id="class-occluderinstance3d-method-set-bake-mask-value"><abbr title="No return value.">void</abbr> <strong>set_bake_mask_value</strong>(layer_number: <a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a>, value: <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a>)</p>
<p>Based on <code class="docutils literal notranslate"><span class="pre">value</span></code>, enables or disables the specified layer in the <a class="reference internal" href="#class-occluderinstance3d-property-bake-mask"><span class="std std-ref">bake_mask</span></a>, given a <code class="docutils literal notranslate"><span class="pre">layer_number</span></code> between 1 and 32.</p>
</section>
</section>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="class_node3d.html" rel="prev" title="Node3D"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="class_omnilight3d.html" rel="next" title="OmniLight3D">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright 2014-present Juan Linietsky, Ariel Manzur and the Godot community (CC BY 3.0).</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</div></section>
</div>
<div aria-label="versions" class="rst-versions" data-toggle="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span class="fa fa-book"> Read the Docs</span>
    v: latest (4.3)
    <span class="fa fa-caret-down"></span>
</span>
<div class="rst-other-versions">
<dl>
<dt>Languages</dt>
<dd><a href="#">en</a></dd>
<dd><a href="#">de</a></dd>
<dd><a href="#">es</a></dd>
<dd><a href="#">fr</a></dd>
</dl>
<dl>
<dt>Versions</dt>
<dd><a href="#">stable</a></dd>
<dd><a href="#">latest</a></dd>
</dl>
<dl>
<dt>On Read the Docs</dt>
<dd>
<a href="///projects/">Project Home</a>
</dd>
<dd>
<a href="///projects//builds/">Builds</a>
</dd>
<dd>
<a href="///projects//downloads/">Downloads</a>
</dd>
</dl>
<hr/>
<small>
<span>Hosted by <a href="https://readthedocs.org">Read the Docs</a></span>
<span> · </span>
<a href="https://docs.readthedocs.io/page/privacy-policy.html">Privacy Policy</a>
</small>
</div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>