<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<meta content="PacketPeer" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="classes/class_packetpeer.html" property="og:url"/>
<meta content="Godot Engine documentation" property="og:site_name"/>
<meta content="Inherits: Reference&lt; Object Inherited By: NetworkedMultiplayerPeer, PacketPeerDTLS, PacketPeerGDNative, PacketPeerStream, PacketPeerUDP, WebRTCDataChannel, WebSocketPeer Abstraction and base class ..." property="og:description"/>
<meta content="Abstraction and base class for packet-based protocols. PacketPeer is an abstraction and base class for packet-based protocols (such as UDP). It provides an API for sending and receiving packets both as raw data or var..." name="description"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"><title>(DEV) PacketPeer — Godot Engine (3.4) documentation in English</title>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/tabs.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/js/custom.js"></script>
<script src="../_static/js/theme.js"></script><meta content="#3d8fcc" name="theme-color"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_packetpeer.html" hreflang="en" rel="alternate"/>
<link href="https://docs.godotengine.org/de/stable/classes/class_packetpeer.html" hreflang="de" rel="alternate"/>
<link href="https://docs.godotengine.org/es/stable/classes/class_packetpeer.html" hreflang="es" rel="alternate"/>
<link href="https://docs.godotengine.org/fr/stable/classes/class_packetpeer.html" hreflang="fr" rel="alternate"/>
<link href="https://docs.godotengine.org/fi/stable/classes/class_packetpeer.html" hreflang="fi" rel="alternate"/>
<link href="https://docs.godotengine.org/it/stable/classes/class_packetpeer.html" hreflang="it" rel="alternate"/>
<link href="https://docs.godotengine.org/ja/stable/classes/class_packetpeer.html" hreflang="ja" rel="alternate"/>
<link href="https://docs.godotengine.org/ko/stable/classes/class_packetpeer.html" hreflang="ko" rel="alternate"/>
<link href="https://docs.godotengine.org/pl/stable/classes/class_packetpeer.html" hreflang="pl" rel="alternate"/>
<link href="https://docs.godotengine.org/pt_BR/stable/classes/class_packetpeer.html" hreflang="pt-br" rel="alternate"/>
<link href="https://docs.godotengine.org/ru/stable/classes/class_packetpeer.html" hreflang="ru" rel="alternate"/>
<link href="https://docs.godotengine.org/uk/stable/classes/class_packetpeer.html" hreflang="uk" rel="alternate"/>
<link href="https://docs.godotengine.org/zh_CN/stable/classes/class_packetpeer.html" hreflang="zh-cn" rel="alternate"/>
<link href="https://docs.godotengine.org/zh_TW/stable/classes/class_packetpeer.html" hreflang="zh-tw" rel="alternate"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_packetpeer.html" hreflang="x-default" rel="alternate"/>
<link href="https://docs.godotengine.org/en/stable/classes/class_packetpeer.html" rel="canonical"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="class_packetpeerdtls.html" rel="next" title="PacketPeerDTLS"/>
<link href="class_packedscenegltf.html" rel="prev" title="PackedSceneGLTF"/>
</meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">

<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">Godot Engine</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a class="icon icon-home" href="../index.html"></a> »</li>
<li><a href="index.html">Godot API</a> »</li>
<li>PacketPeer</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<section id="packetpeer">
<span id="class-packetpeer"></span><h1><a class="dashAnchor" name="//apple_ref/cpp/Class/PacketPeer¶"></a>PacketPeer<a class="headerlink" href="#packetpeer" title="Permalink to this headline">¶</a></h1>
<p><strong>Inherits:</strong> <a class="reference internal" href="class_reference.html#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a class="reference internal" href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p>
<p><strong>Inherited By:</strong> <a class="reference internal" href="class_networkedmultiplayerpeer.html#class-networkedmultiplayerpeer"><span class="std std-ref">NetworkedMultiplayerPeer</span></a>, <a class="reference internal" href="class_packetpeerdtls.html#class-packetpeerdtls"><span class="std std-ref">PacketPeerDTLS</span></a>, <a class="reference internal" href="class_packetpeergdnative.html#class-packetpeergdnative"><span class="std std-ref">PacketPeerGDNative</span></a>, <a class="reference internal" href="class_packetpeerstream.html#class-packetpeerstream"><span class="std std-ref">PacketPeerStream</span></a>, <a class="reference internal" href="class_packetpeerudp.html#class-packetpeerudp"><span class="std std-ref">PacketPeerUDP</span></a>, <a class="reference internal" href="class_webrtcdatachannel.html#class-webrtcdatachannel"><span class="std std-ref">WebRTCDataChannel</span></a>, <a class="reference internal" href="class_websocketpeer.html#class-websocketpeer"><span class="std std-ref">WebSocketPeer</span></a></p>
<p>Abstraction and base class for packet-based protocols.</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>PacketPeer is an abstraction and base class for packet-based protocols (such as UDP). It provides an API for sending and receiving packets both as raw data or variables. This makes it easy to transfer data over a protocol, without having to encode data as low-level bytes or having to worry about network ordering.</p>
</section>
<section id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%"/>
<col style="width: 68%"/>
<col style="width: 11%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-property-allow-object-decoding"><span class="std std-ref">allow_object_decoding</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-property-encode-buffer-max-size"><span class="std std-ref">encode_buffer_max_size</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8388608</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%"/>
<col style="width: 76%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-method-get-available-packet-count"><span class="std std-ref">get_available_packet_count</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-method-get-packet"><span class="std std-ref">get_packet</span></a> <strong>(</strong> <strong>)</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-method-get-packet-error"><span class="std std-ref">get_packet_error</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-method-get-var"><span class="std std-ref">get_var</span></a> <strong>(</strong> <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> allow_objects=false <strong>)</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-method-put-packet"><span class="std std-ref">put_packet</span></a> <strong>(</strong> <a class="reference internal" href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> buffer <strong>)</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td>
<td><p><a class="reference internal" href="#class-packetpeer-method-put-var"><span class="std std-ref">put_var</span></a> <strong>(</strong> <a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> var, <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> full_objects=false <strong>)</strong></p></td>
</tr>
</tbody>
</table>
</section>
<section id="property-descriptions">
<h2>Property Descriptions<a class="headerlink" href="#property-descriptions" title="Permalink to this headline">¶</a></h2>
<ul class="simple" id="class-packetpeer-property-allow-object-decoding">
<li><p><a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Property/allow_object_decoding"></a>allow_object_decoding</strong></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%"/>
<col style="width: 76%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Default</em></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p><em>Setter</em></p></td>
<td><p>set_allow_object_decoding(value)</p></td>
</tr>
<tr class="row-odd"><td><p><em>Getter</em></p></td>
<td><p>is_object_decoding_allowed()</p></td>
</tr>
</tbody>
</table>
<p><em>Deprecated.</em> Use <code class="docutils literal notranslate"><span class="pre">get_var</span></code> and <code class="docutils literal notranslate"><span class="pre">put_var</span></code> parameters instead.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, the PacketPeer will allow encoding and decoding of object via <a class="reference internal" href="#class-packetpeer-method-get-var"><span class="std std-ref">get_var</span></a> and <a class="reference internal" href="#class-packetpeer-method-put-var"><span class="std std-ref">put_var</span></a>.</p>
<p><strong>Warning:</strong> Deserialized objects can contain code which gets executed. Do not use this option if the serialized object comes from untrusted sources to avoid potential security threats such as remote code execution.</p>
<hr class="docutils"/>
<ul class="simple" id="class-packetpeer-property-encode-buffer-max-size">
<li><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Property/encode_buffer_max_size"></a>encode_buffer_max_size</strong></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%"/>
<col style="width: 76%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><em>Default</em></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8388608</span></code></p></td>
</tr>
<tr class="row-even"><td><p><em>Setter</em></p></td>
<td><p>set_encode_buffer_max_size(value)</p></td>
</tr>
<tr class="row-odd"><td><p><em>Getter</em></p></td>
<td><p>get_encode_buffer_max_size()</p></td>
</tr>
</tbody>
</table>
<p>Maximum buffer size allowed when encoding <a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a>s. Raise this value to support heavier memory allocations.</p>
<p>The <a class="reference internal" href="#class-packetpeer-method-put-var"><span class="std std-ref">put_var</span></a> method allocates memory on the stack, and the buffer used will grow automatically to the closest power of two to match the size of the <a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a>. If the <a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> is bigger than <code class="docutils literal notranslate"><span class="pre">encode_buffer_max_size</span></code>, the method will error out with <a class="reference internal" href="class_%40globalscope.html#class-globalscope-constant-err-out-of-memory"><span class="std std-ref">@GlobalScope.ERR_OUT_OF_MEMORY</span></a>.</p>
</section>
<section id="method-descriptions">
<h2>Method Descriptions<a class="headerlink" href="#method-descriptions" title="Permalink to this headline">¶</a></h2>
<ul class="simple" id="class-packetpeer-method-get-available-packet-count">
<li><p><a class="reference internal" href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/get_available_packet_count"></a>get_available_packet_count</strong> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></li>
</ul>
<p>Returns the number of packets currently available in the ring-buffer.</p>
<hr class="docutils"/>
<ul class="simple" id="class-packetpeer-method-get-packet">
<li><p><a class="reference internal" href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/get_packet"></a>get_packet</strong> <strong>(</strong> <strong>)</strong></p></li>
</ul>
<p>Gets a raw packet.</p>
<hr class="docutils"/>
<ul class="simple" id="class-packetpeer-method-get-packet-error">
<li><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/get_packet_error"></a>get_packet_error</strong> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></li>
</ul>
<p>Returns the error state of the last packet received (via <a class="reference internal" href="#class-packetpeer-method-get-packet"><span class="std std-ref">get_packet</span></a> and <a class="reference internal" href="#class-packetpeer-method-get-var"><span class="std std-ref">get_var</span></a>).</p>
<hr class="docutils"/>
<ul class="simple" id="class-packetpeer-method-get-var">
<li><p><a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/get_var"></a>get_var</strong> <strong>(</strong> <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> allow_objects=false <strong>)</strong></p></li>
</ul>
<p>Gets a Variant. If <code class="docutils literal notranslate"><span class="pre">allow_objects</span></code> (or <a class="reference internal" href="#class-packetpeer-property-allow-object-decoding"><span class="std std-ref">allow_object_decoding</span></a>) is <code class="docutils literal notranslate"><span class="pre">true</span></code>, decoding objects is allowed.</p>
<p><strong>Warning:</strong> Deserialized objects can contain code which gets executed. Do not use this option if the serialized object comes from untrusted sources to avoid potential security threats such as remote code execution.</p>
<hr class="docutils"/>
<ul class="simple" id="class-packetpeer-method-put-packet">
<li><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/put_packet"></a>put_packet</strong> <strong>(</strong> <a class="reference internal" href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> buffer <strong>)</strong></p></li>
</ul>
<p>Sends a raw packet.</p>
<hr class="docutils"/>
<ul class="simple" id="class-packetpeer-method-put-var">
<li><p><a class="reference internal" href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> <strong><a class="dashAnchor" name="//apple_ref/cpp/Method/put_var"></a>put_var</strong> <strong>(</strong> <a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> var, <a class="reference internal" href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> full_objects=false <strong>)</strong></p></li>
</ul>
<p>Sends a <a class="reference internal" href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> as a packet. If <code class="docutils literal notranslate"><span class="pre">full_objects</span></code> (or <a class="reference internal" href="#class-packetpeer-property-allow-object-decoding"><span class="std std-ref">allow_object_decoding</span></a>) is <code class="docutils literal notranslate"><span class="pre">true</span></code>, encoding objects is allowed (and can potentially include code).</p>
</section>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="class_packedscenegltf.html" rel="prev" title="PackedSceneGLTF"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="class_packetpeerdtls.html" rel="next" title="PacketPeerDTLS">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright 2014-2022, Juan Linietsky, Ariel Manzur and the Godot community (CC-BY 3.0).</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</section>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>